# 流程分析


## 请求文件访问权限

<img width="378" alt="image" src="https://user-images.githubusercontent.com/10363352/159220192-51a5438c-a8e7-4093-9948-0f3fa9cecc57.png">


```
App needs access to manage all files. Please allow the access in the upcoming system setting.
```

https://github.com/Goooler/MaterialFiles/blob/23c07b5189d179fb578f53d03bde3ffb3c055699/app/src/main/java/me/zhanghai/android/files/filelist/ShowRequestAllFilesAccessRationaleDialogFragment.kt#L16-L37

https://github.com/Goooler/MaterialFiles/blob/874a6cfacaa5227761088fe19813aa31e6315b8f/app/src/main/java/me/zhanghai/android/files/filelist/FileListFragment.kt#L1271-L1291

https://github.com/Goooler/MaterialFiles/blob/874a6cfacaa5227761088fe19813aa31e6315b8f/app/src/main/java/me/zhanghai/android/files/filelist/FileListFragment.kt#L1293-L1295

https://github.com/Goooler/MaterialFiles/blob/874a6cfacaa5227761088fe19813aa31e6315b8f/app/src/main/java/me/zhanghai/android/files/filelist/FileListFragment.kt#L1338-L1349

https://github.com/Goooler/MaterialFiles/blob/874a6cfacaa5227761088fe19813aa31e6315b8f/app/src/main/java/me/zhanghai/android/files/filelist/FileListFragment.kt#L1297-L1302
